<html>
<head>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript">

  /* Cantor Set
   *
   * Input: Line segment
   *  f_1(X): (1/3)X
   *  f_2(X): (1/3)X + (2/3)X[0]
   *
   */

  const transform = function(x1, y1, x2, y2, shift=false) {
    return {
      x1: shift ? x1 + (2/3)*(x2-x1) : x1,
      y1: y1 + yDelta,
      x2: shift ? x2 : x2 + (1/3)*(x2-x1)
      y2: y2 + yDelta
    }
  }

  const run = function() {

    const numIterations = 10
    const yDelta = 100

    var start = d3.select('svg').select('line')

    var coords = {
      x1 : parseInt(start.attr('x1')), 
      y1: parseInt(start.attr('y1')),

      x2 : parseInt(start.attr('x2')),
      y2 : parseInt(start.attr('y2'))
    }

    d3.select('svg').append('line')
      .attr('x1', coords.x1)
      .attr('y1', coords.y1 + yDelta)
      .attr('x2', coords.x2/3)
      .attr('y2', coords.y2 + yDelta)
      .attr('stroke-width', 2)
      .attr('stroke', 'black')

    d3.select('svg').append('line')
      .attr('x1', coords.x1 + (2/3)*coords.x2)
      .attr('y1', coords.y1 + yDelta)
      .attr('x2', coords.x2)
      .attr('y2', coords.y2 + yDelta)
      .attr('stroke-width', 2)
      .attr('stroke', 'black')

  }

</script>

</head>

<body onload="run()">
  <svg width="2000" height="2000">
      <line class='start' x1="20" y1="20" x2="1000" y2="20"
          stroke-width="2" stroke="black"></line>
  </svg>   

</body>


</html>